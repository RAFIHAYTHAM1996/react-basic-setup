{"version":3,"sources":["./pages/project.js"],"names":["_react","__webpack_require__","_gsap","_head","_main","_reactGa","_settings","_data","Project","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","validateRoute","router","context","state","_settings2","default","isServer","urlChops","window","location","pathname","split","lastChop","validURL","i","length","_data2","projects","url","project","push","setState","getInfo","specific","result","info","title","content","undefined","preloadedImages","ASSET_PATH","_this2","img","Image","src","images","onload","TweenMax","set","ProjImage","backgroundImage","_this3","_react2","createElement","_main2","id","menu","solidStyle","ref","el","Page","className","style","margin","map","item","index","Fragment"],"mappings":"4cAAA,IAAAA,EAAAC,EAAA,cACA,IAAAC,EAAAD,EAAA,IACA,IAAAE,EAAAF,EAAA,gBACA,IAAAG,EAAAH,EAAA,gBACA,IAAAI,EAAAJ,EAAA,eACA,IAAAK,EAAAL,EAAA,eACA,IAAAM,EAAAN,EAAA,6oBAEMO,qBAEJ,SAAAA,EAAYC,GAAOC,EAAAC,KAAAH,GAAA,IAAAI,EAAAC,EAAAF,MAAAH,EAAAM,WAAAC,OAAAC,eAAAR,IAAAS,KAAAN,KACXF,IADWG,EAwBnBM,cAAgB,WACd,IAAIC,EAASP,EAAKQ,QAAQD,OACtBE,KACJ,IAAKC,EAAAC,QAASC,WAAY,CACxB,IAAIC,EAAWC,OAAOC,SAASC,SAASC,MAAM,KAC1CC,EAAW,GAAIC,EAAW,MAC9B,IAAK,IAAIC,EAAIP,EAASQ,OAAS,EAAGD,EAAI,EAAGA,IACvC,GAAIP,EAASO,IAAqB,IAAfP,EAASO,GAAU,CACpCF,EAAWL,EAASO,GACpB,MAGJ,IAAK,IAAIA,EAAI,EAAGA,EAAIE,EAAAX,QAAKY,SAASF,OAAQD,IACxC,GAAIE,EAAAX,QAAKY,SAASH,GAAGI,KAAON,EAAU,CACpCT,EAAMgB,QAAUH,EAAAX,QAAKY,SAASH,GAC9BD,EAAW,KAGVA,GAAUZ,EAAOmB,KAAK,KAC3B1B,EAAK2B,SAASlB,KA3CCT,EA+CnB4B,QAAU,SAACC,GACT,IAAIC,EAAS9B,EAAKS,MAAMgB,QAAQM,KAC5BA,EAAO/B,EAAKS,MAAMgB,QAAQM,KAC9B,GAAIF,EACF,IAAK,IAAIT,KAAKW,EACZ,GAAIA,EAAKX,GAAGY,OAASH,EAAU,CAC7BC,EAASC,EAAKX,GAAGa,QACjB,MAIN,OAAOH,GAxDP9B,EAAKS,OACHgB,aAASS,EACTC,gBAAiB,OAEnBnC,EAAKoC,WAAa1B,EAAAC,QAASyB,WAAa,UANvB,OAAApC,oDAUjBD,KAAKO,8DAGa,IAAA+B,EAAAtC,KAClB,IAAKA,KAAKU,MAAM0B,gBAAiB,CAC/B,IAAMG,EAAM,IAAIC,MAChBD,EAAIE,IAAMzC,KAAKqC,WAAarC,KAAKU,MAAMgB,QAAQgB,OAAO,GACtDH,EAAII,OAAS,WACXpD,EAAAqD,SAASC,IAAIP,EAAKQ,WAAYC,uBAAwBR,EAAIE,IAA5B,MAC9BH,EAAKV,UAAUQ,gBAAiB,8FA6C7B,IAAAY,EAAAhD,KAAA,IACC0B,EAAY1B,KAAKU,MAAjBgB,QACR,OACEuB,EAAArC,QAAAsC,cAAAC,EAAAvC,SAAMwC,GAAG,UAAUC,MAAOC,WAAY,MAAOC,IAAK,SAAAA,EAAAC,GAAA,OAAMR,EAAKS,KAAOD,IAChE9B,GACAuB,EAAArC,QAAAsC,cAAA,OAAKQ,UAAU,MAAMC,OAAQC,OAAQ,IACnCX,EAAArC,QAAAsC,cAAA,OAAKQ,UAAU,8BAA8BH,IAAK,SAAAA,EAAAC,GAAA,OAAMR,EAAKF,UAAYU,KACzEP,EAAArC,QAAAsC,cAAA,OAAKQ,UAAU,YACbT,EAAArC,QAAAsC,cAAA,OAAKQ,UAAU,oBACbT,EAAArC,QAAAsC,cAAA,MAAIQ,UAAU,aAAa1D,KAAK6B,QAAQ,SACtCH,EAAQM,KAAK6B,IAAI,SAACC,EAAMC,GACtB,GAAkB,QAAdD,EAAK7B,MACP,OACEgB,EAAArC,QAAAsC,cAAA7D,EAAA2E,SAAA,KACEf,EAAArC,QAAAsC,cAAA,UAAKY,EAAK7B,OACVgB,EAAArC,QAAAsC,cAAA,UAAKY,EAAK5B,qDAcrBrC","file":"bundles/pages/project.js","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { TweenMax, TimelineMax, EasePack, TextPlugin} from 'gsap';\nimport Head from \"next/head\";\nimport Page from \"../layouts/main\";\nimport ReactGA from 'react-ga';\nimport settings from \"../util/settings\";\nimport data from '../static/json/data.json';\n\nclass Project extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      project: undefined,\n      preloadedImages: false\n    }\n    this.ASSET_PATH = settings.ASSET_PATH + \"images/\"\n  }\n\n  componentWillMount() {\n    this.validateRoute();\n  }\n\n  componentDidMount() {\n    if (!this.state.preloadedImages) {\n      const img = new Image();\n      img.src = this.ASSET_PATH + this.state.project.images[0];\n      img.onload = ()=>{\n        TweenMax.set(this.ProjImage, {backgroundImage: `url(${img.src})`})\n        this.setState({preloadedImages: true})\n      }\n    }\n  }\n\n  validateRoute = () => {\n    var router = this.context.router,\n        state = {}\n    if (!settings.isServer()) {\n      var urlChops = window.location.pathname.split(\"/\"),\n          lastChop = \"\", validURL = false\n      for (var i = urlChops.length - 1; i > 0; i--) {\n        if (urlChops[i] && urlChops[i] != \"\") {\n          lastChop = urlChops[i]\n          break\n        }\n      }\n      for (var i = 0; i < data.projects.length; i++) {\n        if (data.projects[i].url == lastChop) {\n          state.project = data.projects[i]\n          validURL = true\n        }\n      }\n      if (!validURL) router.push(\"/\")\n      this.setState(state)\n    }\n  }\n\n  getInfo = (specific) => {\n    var result = this.state.project.info,\n        info = this.state.project.info;\n    if (specific) {\n      for (var i in info) {\n        if (info[i].title == specific) {\n          result = info[i].content\n          break\n        }\n      }\n    }\n    return result;\n  }\n\n  componentWillUnmount() {\n  }\n\n  render() {\n    const { project } = this.state\n    return (\n      <Page id=\"Project\" menu={{solidStyle: true}} ref={el => this.Page = el}>\n        { project &&\n          <div className=\"row\" style={{margin: 0}}>\n            <div className=\"col-md-6 proj-img-container\" ref={el => this.ProjImage = el} />\n            <div className=\"col-md-6\">\n              <div className=\"ContentContainer\">\n                <h1 className=\"proj-name\">{this.getInfo(\"name\")}</h1>\n                { project.info.map((item, index) => {\n                    if (item.title != \"name\") {\n                      return (\n                        <Fragment>\n                          <h2>{item.title}</h2>\n                          <h5>{item.content}</h5>\n                        </Fragment>\n                      )\n                    }\n                })}\n              </div>\n            </div>\n          </div>\n        }\n      </Page>\n    )\n  }\n}\n\nexport default Project\n\n\n\n// WEBPACK FOOTER //\n// ./pages/project.js"],"sourceRoot":""}